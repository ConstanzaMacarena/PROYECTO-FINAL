<h1>foro</h1>

<div>
    <form [formGroup]="myForm" (ngSubmit)="onSubmit(myForm)">
        <div class="row mb-4">
            <div class="col">
                <div class="form-outline">
                    <input type="text" id="cuerpo" formControlName="cuerpo" class="form-control" required />
                    <label class="form-label" for="cuerpo">Comentario</label>
                </div>
            </div>
        </div>

        <div class="row mb-4">
            <div class="col">
                <div class="form-outline">
                    <input type="text" id="tema" formControlName="tema" class="form-control" required />
                    <label class="form-label" for="tema">Tema</label>
                </div>
            </div>
        </div>

        <div class="col-6">
            <button type="" class="btn btn-success btn-block mb-4 mx-2"><i class="fas fa-check"></i>Comentar</button>
        </div>
    </form>
</div>

<div>
    <ul>
        <li *ngFor="let publicacion of lista">
            Autor: {{publicacion.usuario}}
            Contenido: {{publicacion.cuerpo}}
            Tema: {{publicacion.tema}}
            Fecha: {{publicacion.fecha}}
            Likes: {{publicacion.likes}}

            <button (click)="like(publicacion.id)" type="" class="btn btn-success btn-block mb-4 mx-2"><i class="fas fa-check"></i>Like</button>

            <div>
                <ul>
                    <li *ngFor="let resp of publicacion.respuestas">
                        {{resp.usuario}} respondi√≥ {{resp.respuesta}} - {{resp.fecha}}
                    </li>
                </ul>
            </div>

            <div>
                <form [formGroup]="formaRespuesta" (ngSubmit)="responder(formaRespuesta, publicacion.id)">
                    <div class="row mb-4">
                        <div class="col">
                            <div class="form-outline">
                                <input type="text" id="respuesta" formControlName="respuesta" class="form-control" required />
                                <label class="form-label" for="respuesta">Comentario</label>
                            </div>
                        </div>
                    </div>
            
                    <div class="col-6">
                        <button type="" class="btn btn-success btn-block mb-4 mx-2"><i class="fas fa-check"></i>Responder</button>
                    </div>
                </form>
                
            </div>
        </li>
    </ul>
</div>
